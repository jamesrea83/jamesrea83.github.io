<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Dungeon Crawler Game</title>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.js"></script>
    <script src="https://fb.me/react-15.0.0.js"></script>
    <script src="https://fb.me/react-dom-15.0.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
 <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<style>


.outer {
  width: 629px;
  overflow: hidden;
  border: solid 2px;
  margin-left: -5px;
  }

#container {
  width: 625px;
  margin:auto;
  padding-top: 50px;
  text-align: center;
  }



.cell {
  width:12.5px;
  height:12.5px;
  float:left;
  }


.true {
  background-color: gray;
  }

.player {
  background-color: lightgreen;
  }

.enemy {
  background-color: red;
  }

.wall {
  background-color: brown;
  }

#health {
  color: red;
  }
 .health {
  background-color: yellow;
}

.weapon {
  background-color: pink;
}    </style>
  </head>
  <body>
    <div id="container"></div>
    

<script type="text/babel">
 

//DC WORKING

var wallPlan = [
  [0, 6],
  [0, 7],
  [0, 8],
  [0, 9],
  [0, 18],
  [0, 19],
  [0, 20],
  [0, 21],
  [0, 24],
  [0, 25],
  [0, 26],
  [0, 27],
  [0, 33],
  [0, 37],
  [0, 38],
  [0, 39],
  [0, 40],
  [0, 41],
  [0, 46],
  [0, 47],
  [0, 48],
  [1, 5],
  [1, 8],
  [1, 9],
  [1, 10],
  [1, 11],
  [1, 12],
  [1, 23],
  [1, 25],
  [1, 26],
  [1, 27],
  [1, 33],
  [1, 34],
  [1, 35],
  [1, 39],
  [1, 40],
  [1, 45],
  [1, 47],
  [1, 48],
  [2, 5],
  [2, 6],
  [2, 10],
  [2, 11],
  [2, 12],
  [2, 17],
  [2, 18],
  [2, 19],
  [2, 20],
  [2, 21],
  [2, 23],
  [2, 28],
  [2, 37],
  [2, 38],
  [2, 47],
  [2, 49],
  [3, 17],
  [3, 18],
  [3, 19],
  [3, 20],
  [3, 25],
  [3, 27],
  [3, 37],
  [3, 41],
  [3, 45],
  [3, 49],
  [4, 19],
  [4, 22],
  [4, 24],
  [4, 25],
  [4, 41],
  [4, 43],
  [4, 46],
  [4, 47],
  [4, 49],
  [5, 14],
  [5, 17],
  [5, 18],
  [5, 22],
  [5, 24],
  [5, 25],
  [5, 40],
  [5, 41],
  [5, 42],
  [5, 44],
  [5, 45],
  [5, 46],
  [5, 47],
  [6, 8],
  [6, 9],
  [6, 15],
  [6, 16],
  [6, 18],
  [6, 23],
  [6, 40],
  [6, 44],
  [6, 47],
  [7, 10],
  [7, 20],
  [7, 21],
  [7, 47],
  [7, 48],
  [8, 4],
  [8, 9],
  [8, 10],
  [8, 15],
  [8, 19],
  [8, 22],
  [8, 43],
  [8, 44],
  [8, 45],
  [8, 48],
  [9, 9],
  [9, 10],
  [9, 14],
  [9, 26],
  [9, 27],
  [9, 46],
  [9, 47],
  [9, 49],
  [10, 5],
  [10, 7],
  [10, 13],
  [10, 14],
  [10, 19],
  [10, 22],
  [10, 25],
  [10, 26], 
  [10, 27],
  [10, 33],
  [10, 34],
  [10, 35],
  [10, 36],
  [10, 37],
  [10, 41],
  [10, 48],
  [10, 49],
  [11, 5],
  [11, 7],
  [11, 10],
  [11, 12],
  [11, 16],
  [11, 19],
  [11, 21],
  [11, 22],
  [11, 26],
  [11, 34],
  [11, 42],
  [11, 47],
  [11, 49],
  [12, 5],
  [12, 7],
  [12, 9],
  [12, 11],
  [12, 33],
  [12, 34],
  [12, 38],
  [12, 39],
  [12, 40],
  [12, 48],
  [12, 49],
  [13, 5],
  [13, 11],
  [13, 17],
  [13, 18],
  [13, 21],
  [13, 22],
  [13, 33],
  [13, 34],
  [13, 41],
  [13, 47],
  [13, 48],
  [13, 49],
  [14, 8],
  [14, 18],
  [14, 19],
  [14, 21],
  [14, 34],
  [14, 38],
  [14, 39],
  [14, 44],
  [14, 46],
  [14, 48],
  [15, 0],
  [15, 1],
  [15, 7],
  [15, 9],
  [15, 12],
  [15, 15],
  [15, 19],
  [15, 31],
  [15, 32],
  [15, 33],
  [15, 34],
  [15, 40],
  [15, 43],
  [15, 47],
  [15, 48],
  [16, 0],
  [16, 2],
  [16, 8],
  [16, 16],
  [16, 18],
  [16, 30],
  [16, 33],
  [16, 34],
  [16, 35],
  [16, 36],
  [16, 38],
  [16, 39],
  [16, 44],
  [16, 47],
  [16, 48],
  [17, 0],
  [17, 1],
  [17, 2],
  [17, 8],
  [17, 15],
  [17, 16],
  [17, 31],
  [17, 32],
  [17, 34],
  [17, 38],
  [17, 40],
  [17, 41],
  [17, 48],
  [18, 2],
  [18, 4],
  [18, 8],
  [18, 15],
  [18, 16],
  [18, 26],
  [18, 27],
  [18, 30],
  [18, 31],
  [18, 32],
  [18, 37],
  [18, 38],
  [18, 48],
  [18, 49],
  [19, 3],
  [19, 5],
  [19, 6],
  [19, 8],
  [19, 10],
  [19, 14],
  [19, 27],
  [19, 28],
  [19, 29],
  [19, 32],
  [19, 35],
  [19, 37],
  [19, 38],
  [20, 6],
  [20, 7],
  [20, 8],
  [20, 9],
  [20, 11],
  [20, 12],
  [20, 24],
  [20, 28],
  [20, 29],
  [20, 31],
  [20, 36],
  [20, 38],
  [20, 39],
  [20, 48],
  [21, 3],
  [21, 4],
  [21, 5],
  [21, 6],
  [21, 12],
  [21, 15],
  [21, 17],
  [21, 20],
  [21, 21],
  [21, 23],
  [21, 29],
  [21, 32],
  [21, 35],
  [21, 39],
  [21, 45],
  [21, 46],
  [21, 48],
  [22, 13],
  [22, 15],
  [22, 17],
  [22, 18],
  [22, 19],
  [22, 20],
  [22, 21],
  [22, 22],
  [22, 25],
  [22, 29],
  [22, 33],
  [22, 34],
  [22, 36],
  [22, 37],
  [22, 44],
  [22, 49],
  [23, 2],
  [23, 7],
  [23, 8],
  [23, 19],
  [23, 22],
  [23, 24],
  [23, 25],
  [23, 29],
  [23, 34],
  [23, 36],
  [23, 44],
  [23, 45],
  [23, 46],
  [24, 0],
  [24, 1],
  [24, 13],
  [24, 16],
  [24, 17],
  [24, 25],
  [24, 26],
  [24, 27],
  [24, 28],
  [24, 29],
  [24, 34],
  [24, 36],
  [24, 41],
  [24, 42],
  [24, 44],
  [24, 46],
  [25, 0],
  [25, 1],
  [25, 14],
  [25, 15],
  [25, 25],
  [25, 26],
  [25, 27],
  [25, 28],
  [25, 32],
  [25, 34],
  [25, 35],
  [25, 45],
  [26, 0],
  [26, 24],
  [26, 25],
  [26, 28],
  [26, 29],
  [26, 34],
  [26, 35],
  [26, 36],
  [26, 39],
  [26, 40],
  [26, 45],
  [27, 0],
  [27, 1],
  [27, 2],
  [27, 3],
  [27, 5],
  [27, 19],
  [27, 20],
  [27, 25],
  [27, 29],
  [27, 34],
  [27, 35],
  [27, 36],
  [27, 40],
  [27, 46],
  [28, 1],
  [28, 2],
  [28, 3],
  [28, 5],
  [28, 7],
  [28, 8],
  [28, 9],
  [28, 14],
  [28, 18],
  [28, 21],
  [28, 25],
  [28, 26],
  [28, 27],
  [28, 34],
  [28, 35],
  [28, 36],
  [28, 37],
  [28, 38],
  [28, 46],
  [28, 48],
  [29, 4],
  [29, 7],
  [29, 8],
  [29, 9],
  [29, 13],
  [29, 14],
  [29, 15],
  [29, 18],
  [29, 20],
  [29, 25],
  [29, 26],
  [29, 34],
  [29, 35],
  [29, 37],
  [29, 38],
  [29, 41],
  [29, 48],
  [30, 5],
  [30, 11],
  [30, 13],
  [30, 14],
  [30, 19],
  [30, 29],
  [30, 30],
  [30, 33],
  [30, 34],
  [30, 37],
  [30, 38],
  [30, 39],
  [30, 42],
  [30, 46],
  [30, 47],
  [30, 49],
  [31, 15],
  [31, 16],
  [31, 18],
  [31, 29],
  [31, 30],
  [31, 31],
  [31, 34],
  [31, 36],
  [31, 39],
  [31, 46],
  [31, 48],
  [31, 49],
  [32, 12],
  [32, 16],
  [32, 17],
  [32, 18],
  [32, 19],
  [32, 33],
  [32, 34],
  [32, 37],
  [32, 38],
  [32, 47],
  [32, 49],
  [33, 6],
  [33, 7],
  [33, 15],
  [33, 16],
  [33, 27],
  [33, 31],
  [33, 36],
  [33, 45],
  [33, 48],
  [34, 6],
  [34, 7],
  [34, 8],
  [34, 9],
  [34, 10],
  [34, 11],
  [34, 18],
  [34, 27],
  [34, 36],
  [34, 43],
  [34, 44],
  [34, 45],
  [34, 49],
  [35, 6],
  [35, 7],
  [35, 8],
  [35, 18],
  [35, 19],
  [35, 27],
  [35, 29],
  [35, 36],
  [35, 39],
  [35, 47],
  [35, 48],
  [35, 49],
  [36, 6],
  [36, 18],
  [36, 19],
  [36, 30],
  [36, 31],
  [36, 36],
  [36, 39],
  [36, 48],
  [36, 49],
  [37, 0],
  [37, 2],
  [37, 23],
  [37, 25],
  [37, 30],
  [37, 32],
  [37, 35],
  [37, 36],
  [37, 38],
  [37, 40],
  [37, 45],
  [38, 0],
  [38, 1],
  [38, 2],
  [38, 23],
  [38, 24],
  [38, 26],
  [38, 30],
  [38, 35],
  [38, 36],
  [38, 38],
  [38, 39],
  [38, 40],
  [38, 41],
  [39, 23],
  [39, 24],
  [39, 32],
  [39, 36],
  [39, 38],
  [39, 40],
  [39, 41],
  [40, 0],
  [40, 2],
  [40, 24],
  [40, 26],
  [40, 30],
  [40, 33],
  [40, 36],
  [40, 41],
  [40, 42],
  [40, 43],
  [40, 45],
  [40, 46],
  [40, 47],
  [40, 48],
  [41, 1],
  [41, 17],
  [41, 18],
  [41, 19],
  [41, 24],
  [41, 26],
  [41, 29],
  [41, 41],
  [41, 42],
  [41, 45],
  [41, 46],
  [41, 47],
  [41, 48],
  [42, 16],
  [42, 20],
  [42, 22],
  [42, 26],
  [42, 30],
  [42, 33],
  [42, 37],
  [42, 44],
  [42, 49],
  [43, 13],
  [43, 14],
  [43, 22],
  [43, 30],
  [43, 31],
  [43, 37],
  [43, 46],
  [43, 47],
  [43, 48],
  [44, 0],
  [44, 2],
  [44, 13],
  [44, 16],
  [44, 19],
  [44, 21],
  [44, 23],
  [44, 25],
  [44, 26],
  [44, 32],
  [44, 33],
  [44, 46],
  [44, 47],
  [44, 48],
  [45, 2],
  [45, 7],
  [45, 8],
  [45, 13],
  [45, 14],
  [45, 15],
  [45, 16],
  [45, 23],
  [45, 25],
  [45, 26],
  [45, 33],
  [45, 35],
  [45, 42],
  [45, 48],
  [46, 4],
  [46, 5],
  [46, 7],
  [46, 8],
  [46, 14],
  [46, 33],
  [46, 35],
  [46, 41],
  [46, 42],
  [47, 0],
  [47, 1],
  [47, 2],
  [47, 25],
  [47, 33],
  [47, 34],
  [47, 44],
  [47, 48],
  [47, 49],
  [48, 5],
  [48, 6],
  [48, 12],
  [48, 20],
  [48, 24],
  [48, 31],
  [48, 35],
  [48, 43],
  [48, 47],
  [48, 49],
  [49, 6],
  [49, 7],
  [49, 9],
  [49, 10],
  [49, 11],
  [49, 12],
  [49, 20],
  [49, 25],
  [49, 31],
  [49, 34],
  [49, 43],
  [49, 47],
  [49, 48]
];

var WorldCell = function(x, y) {
  this.x = x;
  this.y = y;
  this.name = "";
  this.fog = true;
  this.reset = function(stateCopy) {
    var tempX = this.x,
    tempY = this.y;
    this.x = "", this.y = "", this.name = "", this.id = "";
    stateCopy.grid[tempX][tempY] = new WorldCell(tempX, tempY);
    };
}

var HealthPack = function(x, y) {
  this.x = x;
  this.y = y;
  this.name = "health";
  this.heal = function(target, stateCopy) {
    var grid = stateCopy.grid;
    grid[target.x][target.y].HP = grid[target.x][target.y].HP + 1;
    $("#console").css("background-color", "lightblue").css("color", "white");  
    $("#health").css("background-color", "green").css("color", "white");
    stateCopy.console = target.id + " healed for 1HP!";
  }
}

var Weapon = function(x, y) {
	this.x = x;
  this.y = y;
  this.name = "weapon";
  this.pickUp = function(target, stateCopy) {
    var grid = stateCopy.grid;
  	grid[target.x][target.y].damage = grid[target.x][target.y].damage + 10;
    $("#console").css("background-color", "lightblue").css("color", "white"); 
    stateCopy.console = "You have found a sword!";   
  }
}


var Player = function(x, y) {
  this.x = x;
  this.y = y;
  this.name = "player";
  this.id = "player";
  this.HP = 100;
  this.level = 1;
  this.damage = 10;
  this.XP = 0;
  this.combat = function(target, stateCopy) {
      $("#console").css("background-color", "red").css("color", "white")
      var grid = stateCopy.grid;
      var self = this;
      var hit = function() {
      		var levelDamage = self.damage * self.level;
          var max = levelDamage / 100 * 50;
          var min = levelDamage / 100 * 150;
          return Math.floor(Math.random() * (max - min + 1)) + min;
      }
      var turnHit = hit();
      grid[target.x][target.y].HP = grid[target.x][target.y].HP - turnHit;;
      if (grid[target.x][target.y].id == "player") {
      	$("#health").css("background-color", "red").css("color", "white");
        
      }
      stateCopy.console = this.name + " attacks " + target.name + " for " + turnHit + " damage";
      if (grid[target.x][target.y].HP < 1) {
        stateCopy.console = this.name + " attacks " + target.name + " for " + turnHit + " damage. " + target.name + " has been eliminated!";
        grid[target.x][target.y].reset(stateCopy);
        this.XP = this.XP + 1;
        if (this.XP == 1) {
        	this.level = 2;
        }
        stateCopy.activeEnemies = stateCopy.activeEnemies - 1;
      }
    },
    this.reset = function(stateCopy) {
      console.log("reset fired by " + this.id);
      var tempX = this.x,
        tempY = this.y;
      this.x = "", this.y = "", this.name = "", this.id = "";
      stateCopy.grid[tempX][tempY] = new WorldCell(tempX, tempY);
    },
    this.move = function(direction, stateCopy) {
      switch (direction) {
        case "left":
          if (this.validMove(0, -1, stateCopy)) {
            this.y = this.y - 1;
          }
          break;
        case "up":
          if (this.validMove(-1, 0, stateCopy)) {
            this.x = this.x - 1;
          }
          break;
        case "right":
          if (this.validMove(0, 1, stateCopy)) {
            this.y = this.y + 1;
          }
          break;
        case "down":
          if (this.validMove(1, 0, stateCopy)) {
            this.x = this.x + 1;
          }
          break;
      }
    },
    this.validMove = function(x, y, stateCopy) {
      var grid = stateCopy.grid;
      var destination = stateCopy.grid[this.x + x][this.y + y];
      if (destination.name == "wall") {
        return false;
      }
      if (destination.name == "enemy" && stateCopy.grid[this.x][this.y].name == "player" || destination.name == "player") {
        this.combat(destination, stateCopy);
        return false;
      }
      if (destination.name == "health") {
        destination.heal(this, stateCopy)
      }
      if (destination.name == "weapon") {
        destination.pickUp(this, stateCopy)
      }
      if (destination.x >= 0 && destination.x < grid.length - 1 && destination.y >= 0 && destination.y < grid[0].length - 1) {
        return true
      } else {
        return false
      }
    }
}




var arr = []
for (var i = 0; i < 50; i++) {
  arr.push([])
  for (var j = 0; j < 50; j++) {
    arr[i].push(new WorldCell(i, j))
  }
}



var Grid = React.createClass({
  getInitialState: function() {
    return {
      grid: this.props.grid,
      console: "Click on the valiant green square to begin the quest",
      player: new Player(12, 23),
      playerTurn: true,
      activeEnemies: 3
    }
  },

  componentDidMount: function() {
		window.addEventListener("keydown", this.movePlayer);
    var num = 0;
    var stateCopy = this.state;
    this.props.wallPlan.forEach(function(elem) {
      stateCopy.grid[elem[0]][elem[1]].name = "wall"
    })
    this.enemySetup();
    stateCopy.grid[11][25] = new HealthPack(11, 25);
    stateCopy.grid[stateCopy.player.x][stateCopy.player.y] = stateCopy.player;
    stateCopy.grid.forEach(function(elem) {
      elem.forEach(function(elem2) {
        elem2.fog = true;
      })
    })
    this.setState(stateCopy);
    this.sightRadius();
  },
  enemySetup: function() {
    var num = this.state.activeEnemies,
      stateCopy = this.state
    for (var i = 0; i < num; i++) {
      var loc = this.randomLocation()
      stateCopy["enemy" + i] = new Player(loc[0], loc[1]);
      stateCopy["enemy" + i].name = "enemy";
      stateCopy["enemy" + i].id = "enemy" + i;
      stateCopy["enemy" + i].HP = 20;
      stateCopy["enemy" + i].fog = true;
      stateCopy.grid[stateCopy["enemy" + i].x][stateCopy["enemy" + i].y] = stateCopy["enemy" + i];
    }
    this.setState(stateCopy);
  },

  movePlayer: function(event) {
    if (event.keyCode == 37 || event.keyCode == 38 || event.keyCode == 39 || event.keyCode == 40) {
    	event.preventDefault();
    }
    var stateCopy = this.state;
    stateCopy.console = "You move on";
    $("#health").css("background-color", "").css("color", "red");
    $("#console").css("background-color", "lightblue").css("color", "lightblue");
    if (stateCopy.playerTurn) {
      stateCopy.grid.forEach(function(elem) {
        elem.forEach(function(elem2) {
          elem2.fog = true;
        })
      })
      var self = this;
      var oldLoc = [stateCopy.grid[stateCopy.player.x][stateCopy.player.y].x, stateCopy.grid[stateCopy.player.x][stateCopy.player.y].y];
      switch (event.keyCode) {
        case 37:
          stateCopy.player.move("left", stateCopy)
          break;
        case 38:
          stateCopy.player.move("up", stateCopy)
          break;
        case 39:
          stateCopy.player.move("right", stateCopy)
          break;
        case 40:
          stateCopy.player.move("down", stateCopy)
          break;
      }
      stateCopy.grid[oldLoc[0]][oldLoc[1]] = new WorldCell(oldLoc[0], oldLoc[1])
      stateCopy.grid[stateCopy.player.x][stateCopy.player.y] = stateCopy.player;
            stateCopy.playerTurn = false;
      this.setState(stateCopy);
      this.winCheck();
      if (this.state.playerTurn == false) {
      	console.log("checkpoint 2")
        self.enemyTurn();
      }
      this.sightRadius();
    }
  },

  enemyTurn() {
  	console.log("enemy turn firing")
    var stateCopy = this.state;
    for (var i = 0; i < 3; i++) {
      if (this.state["enemy" + i].HP > 0) {
        this.enemyMove(i);
      }
    }
    stateCopy.playerTurn = true;
    this.setState(stateCopy);
  },

  enemyMove: function(num) {
    var moveArr = ["left", "up", "right", "down"]
    var moveRoll = Math.floor(Math.random() * 4)
    var stateCopy = this.state;
    var oldLoc = [stateCopy.grid[stateCopy["enemy" + num].x][stateCopy["enemy" + num].y].x, stateCopy.grid[stateCopy["enemy" + num].x][stateCopy["enemy" + num].y].y];
    stateCopy["enemy" + num].move(moveArr[moveRoll], stateCopy)
    stateCopy.grid[oldLoc[0]][oldLoc[1]] = new WorldCell(oldLoc[0], oldLoc[1]);
    stateCopy.grid[stateCopy["enemy" + num].x][stateCopy["enemy" + num].y] = stateCopy["enemy" + num];
    this.setState(stateCopy);

  },

  sightRadius: function() {
    var stateCopy = this.state;
    var sightArr = [];
    for (var i = -3; i < 4; i++) {
      for (var j = -3; j < 4; j++) {
        sightArr.push(stateCopy.grid[stateCopy.player.x + i][stateCopy.player.y + j])
      }
    }
    sightArr.splice(48, 1);
    sightArr.splice(42, 1);
    sightArr.splice(6, 1);
    sightArr.splice(0, 1);
    sightArr.forEach(function(elem) {
      if (elem.x >= 0 ||
        elem.x <= stateCopy.grid.length - 1 ||
        elem.y + j >= 0 ||
        elem.y + j <= stateCopy.grid.length - 1) {
        stateCopy.grid[elem.x][elem.y].fog = false
      }
    })
    this.setState(stateCopy)
  },
  winCheck: function() {
    if (this.state.activeEnemies == 0) {
      var stateCopy = this.state;
    	stateCopy.grid[stateCopy.player.x][stateCopy.player.y].reset(stateCopy);
      $("#console").css("background-color", "lightgreen").css("color", "white");
      stateCopy.grid = this.props.grid;
      stateCopy.console = "Congratulations! All enemies slain! Click on our hero to begin again";
      stateCopy.player = new Player(12, 23);
      stateCopy.playerTurn = true;
      stateCopy.activeEnemies= 3;
      this.setState(stateCopy);
      this.componentDidMount();
    }
  },
  randomLocation: function() {
    var randX = Math.floor(Math.random() * (20 - 10 + 1) + 10);
    var randY = Math.floor(Math.random() * (30 - 20 + 1) + 20);
    if (this.state.grid[randX][randY].name == "") {
      return [randX, randY];
    } else {
      return this.randomLocation();
    }
  },

  gridBuilder: function(cellClick) {
    return this.state.grid.map(function(elem) {
      return elem.map(function(elem2) {
        return <Cell contents = {
          elem2
        }
        cellClick = {
          cellClick
        }
        />
      })
    })
  },

  cellClick: function(cell) {
    console.log(cell);
    $("#console").css("background-color", "lightblue").css("color", "white");
    var stateCopy = this.state;

    	switch (cell.name) {
      	case "player": stateCopy.console = "Our brave hero";
        	break;
        case "health": stateCopy.console = "A valuable health pack";
        	break;
        case "enemy": stateCopy.console = "A vile enemy creature";
        	break;
        case "wall": stateCopy.console = "A stone wall";
        	break;
        case "": stateCopy.console = "The floor";
        	break;        
      }

    
    if (cell.fog) stateCopy.console = "You can't see that far";

    this.setState(stateCopy);

  },

  render: function() {

    return <div >

      < div className = "well"id = "console" > 
      {this.state.console} 
      < /div> 
			<div className="row">
      < div className = "well HUD col-xs-3" id = "health">< span className = "glyphicon glyphicon-heart" > < /span>{" " + this.state.player.HP}</div>
      <div className="well HUD col-xs-3">< span> Damage< /span>{" " + this.state.player.damage}</div>
      <div className="well HUD col-xs-3">< span> XP< /span>{" " + this.state.player.XP}</div>
      <div className="well HUD col-xs-3">< span> Level< /span>{" " + this.state.player.level}</div>
      </div>
      


    < div > {
      this.gridBuilder(this.cellClick)
    } < /div> < /div>
  }
})



var Cell = React.createClass({
  render: function() {
    return <div className = {
      this.props.contents.fog ? "cell true" : "cell " + this.props.contents.name
    }
    onClick = {
        this.props.cellClick.bind(null, this.props.contents)
      } >
      < /div>
  }
})


ReactDOM.render( < Grid grid = {
    arr
  }
  wallPlan = {
    wallPlan
  }
  />, document.getElementById("container")
)


</script>
  

</body>
</html>


